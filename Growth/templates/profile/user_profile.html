{% extends 'builder.html' %}

{% block header %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Profile</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">User Profile</h1>
    </div>

    <div class="container">
        <div class="main-body">

<!--            &lt;!&ndash; Breadcrumb &ndash;&gt;-->
<!--            <nav aria-label="breadcrumb" class="main-breadcrumb">-->
<!--                <ol class="breadcrumb">-->
<!--                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>-->
<!--                    <li class="breadcrumb-item"><a href="javascript:void(0)">User</a></li>-->
<!--                    <li class="breadcrumb-item active" aria-current="page">User Profile</li>-->
<!--                </ol>-->
<!--            </nav>-->
<!--            &lt;!&ndash; /Breadcrumb &ndash;&gt;-->

            <div class="row gutters-sm">
                <div class="col-md-4 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin"
                                    class="rounded-circle" width="150">
                                <div class="mt-3">
                                    <h4>{{data.username}}</h4>
                                    <p class="text-secondary mb-1">{{data.role}}</p>
                                    <p class="text-muted font-size-sm">{{data.city}}</p>
                                    <button class="btn btn-primary">Follow</button>

                                    <!-- Redriect to private chat-->

                                    <button class="btn btn-outline-primary"><a
                                            href="{% url 'newconversation' data.username %}">Message </a>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="card text-center mt-3">
                        <div class="card-body">
                            <h5 class="card-title">About Me</h5>
                            <p class="card-text">{{data.description}}
                            </p>
                        </div>

                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Full Name</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{data.first_name}} {{data.last_name}}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{data.email}}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Phone</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{data.mobile_phone}}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Company</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {% if data.company %}
                                    <a class="btn btn-primary btn-sm" target="__blank"
                                        href="{% url 'company_profile' data.company.id %}">
                                        {{data.company.name}} - {{data.company_role}}</a>
                                    {% else %}
                                        Not in a company
                                        {% ifequal user.username data.username %}
                                            <a class="btn btn-outline-primary btn-sm" target="__blank"
                                                href="{% url 'add_company' %}">Create</a>
                                        {% endifequal %}
                                    {% endif %}

                                </div>
                            </div>

                            {% ifequal user.username data.username %}
                            <hr>
                            <div class="row">
                                <div class="col-sm-12">
                                    <a class="btn btn-info " target="__blank"
                                        href="{% url 'edit_profile' slug=data.username %}">Edit
                                        Profile</a>
                                    <a class="btn btn-info " target="__blank"
                                        href="{% url 'password_change' %}?next={{ request.path }}">Change
                                        Password</a>
                                </div>
                            </div>
                            {% else %}
                            {% endifequal %}
                        </div>
                    </div>

                    <div class="row gutters-sm">
                        <div class="col-sm-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h6 class="d-flex align-items-center mb-3"><i
                                            class="material-icons text-info mr-2">Assignment</i>Project Status</h6>
                                    <small>Assignment 1</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 80%"
                                            aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small>Assignment 2</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 72%"
                                            aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small>Assignment 3</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary bg-success" role="progressbar"
                                            style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <small>Assignment 4</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary  " role="progressbar" style="width: 55%"
                                            aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small>Assignment 5</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary bg-danger" role="progressbar"
                                            style="width: 66%" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h6 class="d-flex align-items-center mb-3"><i
                                            class="material-icons text-info mr-2">Module </i> Project Status</h6>
                                    <small>Module 1</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 80%"
                                            aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small>Module 2</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 72%"
                                            aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small>Module 3</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary bg-success" role="progressbar"
                                            style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <small>Module 4</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary bg-warning" role="progressbar"
                                            style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                    <small>Module 5</small>
                                    <div class="progress mb-3" style="height: 5px">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 66%"
                                            aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

{% endblock %}